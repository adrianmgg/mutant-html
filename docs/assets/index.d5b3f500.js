(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}})();function Y(){}function Te(e){return e()}function pe(){return Object.create(null)}function K(e){e.forEach(Te)}function Ae(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let x;function ge(e,t){return x||(x=document.createElement("a")),x.href=t,e===x.href}function qe(e){return Object.keys(e).length===0}function p(e,t){e.appendChild(t)}function N(e,t,l){e.insertBefore(t,l||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function ne(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function b(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function L(){return V(" ")}function Pe(){return V("")}function B(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function k(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Ke(e){return Array.from(e.childNodes)}function ke(e,t){e.value=t==null?"":t}function ve(e,t,l,n){l===null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function G(e,t,l){e.classList[l?"add":"remove"](t)}let ae;function W(e){ae=e}const U=[],oe=[],te=[],se=[],De=Promise.resolve();let ce=!1;function Fe(){ce||(ce=!0,De.then(Be))}function fe(e){te.push(e)}function be(e){se.push(e)}const re=new Set;let ee=0;function Be(){const e=ae;do{for(;ee<U.length;){const t=U[ee];ee++,W(t),Ge(t.$$)}for(W(null),U.length=0,ee=0;oe.length;)oe.pop()();for(let t=0;t<te.length;t+=1){const l=te[t];re.has(l)||(re.add(l),l())}te.length=0}while(U.length);for(;se.length;)se.pop()();ce=!1,re.clear(),W(e)}function Ge(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fe)}}const le=new Set;let F;function J(){F={r:0,c:[],p:F}}function R(){F.r||K(F.c),F=F.p}function C(e,t){e&&e.i&&(le.delete(e),e.i(t))}function P(e,t,l,n){if(e&&e.o){if(le.has(e))return;le.add(e),F.c.push(()=>{le.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function je(e,t,l){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function Z(e){e&&e.c()}function X(e,t,l,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,l),n||fe(()=>{const s=e.$$.on_mount.map(Te).filter(Ae);e.$$.on_destroy?e.$$.on_destroy.push(...s):K(s),e.$$.on_mount=[]}),i.forEach(fe)}function Q(e,t){const l=e.$$;l.fragment!==null&&(K(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Je(e,t){e.$$.dirty[0]===-1&&(U.push(e),Fe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,l,n,o,i,s,d=[-1]){const c=ae;W(e);const u=e.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:o,bound:pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:pe(),dirty:d,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let a=!1;if(u.ctx=l?l(e,t.props||{},(h,y,...E)=>{const $=E.length?E[0]:y;return u.ctx&&o(u.ctx[h],u.ctx[h]=$)&&(!u.skip_bound&&u.bound[h]&&u.bound[h]($),a&&Je(e,h)),y}):[],u.update(),a=!0,K(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const h=Ke(t.target);u.fragment&&u.fragment.l(h),h.forEach(M)}else u.fragment&&u.fragment.c();t.intro&&C(e.$$.fragment),X(e,t.target,t.anchor,t.customElement),Be()}W(c)}class me{$destroy(){Q(this,1),this.$destroy=Y}$on(t,l){if(!Ae(l))return Y;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!qe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Re(){let e=[],t=[],l=[],n={},o=s=>[...new Set(s)];e=JSON.parse(localStorage.emoji_data);let i={};for(let s of e){let d=s.cat;if(t.includes(d)||(t.push(d),l.push(s),i[d]={}),i[d][s.root]||(i[d][s.root]=[]),i[d][s.root].push(s),s.root==="hand"){let{morph:c,color:u}=s;n[c]||(n[c]=[]),n[c]=o([...n[c],u])}}return{emojis:e,categories:t,catIcons:l,morphs:n}}function ye(e){let t,l,n;return{c(){t=b("img"),ge(t.src,l="https://lxhom.github.io/mutant-html/assets/webp_128/"+e[0].short+".webp")||k(t,"src",l),ve(t,"width","1em"),ve(t,"height","1em"),k(t,"alt",n=e[0].short+" emoji")},m(o,i){N(o,t,i)},p(o,i){i&1&&!ge(t.src,l="https://lxhom.github.io/mutant-html/assets/webp_128/"+o[0].short+".webp")&&k(t,"src",l),i&1&&n!==(n=o[0].short+" emoji")&&k(t,"alt",n)},d(o){o&&M(t)}}}function Xe(e){let t,l=e[0]&&ye(e);return{c(){l&&l.c(),t=Pe()},m(n,o){l&&l.m(n,o),N(n,t,o)},p(n,[o]){n[0]?l?l.p(n,o):(l=ye(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:Y,o:Y,d(n){l&&l.d(n),n&&M(t)}}}function Qe(e,t,l){let{emoji:n}=t;return e.$$set=o=>{"emoji"in o&&l(0,n=o.emoji)},[n]}class ie extends me{constructor(t){super(),de(this,t,Qe,Xe,ue,{emoji:0})}}function we(e,t,l){const n=e.slice();return n[28]=t[l],n}function $e(e,t,l){const n=e.slice();return n[31]=t[l],n}function ze(e,t,l){const n=e.slice();return n[34]=t[l],n}function Se(e,t,l){const n=e.slice();return n[37]=t[l],n[39]=l,n}function Ce(e){let t,l,n,o,i,s,d,c,u,a,h,y,E,$,T,A,S,m,O=e[8],j=[];for(let r=0;r<O.length;r+=1)j[r]=Me(Se(e,O,r));const z=r=>P(j[r],1,1,()=>{j[r]=null});let I=e[6],f=[];for(let r=0;r<I.length;r+=1)f[r]=Ee(ze(e,I,r));const w=r=>P(f[r],1,1,()=>{f[r]=null});return{c(){t=b("div"),l=L(),n=b("div"),o=b("div"),i=b("div"),i.textContent="Categories",s=L();for(let r=0;r<j.length;r+=1)j[r].c();d=L(),c=b("div"),c.textContent="Customize",u=L(),a=b("div"),h=b("input"),y=L(),E=b("div"),E.textContent="Close",$=L(),T=b("div");for(let r=0;r<f.length;r+=1)f[r].c();k(t,"class","bg-click svelte-7xzkmh"),k(i,"class","svelte-7xzkmh"),k(c,"class","customize svelte-7xzkmh"),k(o,"class","categories svelte-7xzkmh"),k(h,"type","text"),k(h,"placeholder","Search emojis..."),k(h,"class","svelte-7xzkmh"),k(E,"class","close svelte-7xzkmh"),k(a,"class","search svelte-7xzkmh"),k(T,"class","emojis svelte-7xzkmh"),k(n,"class","picker svelte-7xzkmh")},m(r,v){N(r,t,v),N(r,l,v),N(r,n,v),p(n,o),p(o,i),p(o,s);for(let _=0;_<j.length;_+=1)j[_].m(o,null);p(o,d),p(o,c),p(n,u),p(n,a),p(a,h),ke(h,e[4]),p(a,y),p(a,E),p(n,$),p(n,T);for(let _=0;_<f.length;_+=1)f[_].m(T,null);A=!0,S||(m=[B(t,"click",e[14]),B(c,"click",e[16]),B(h,"input",e[17]),B(E,"click",e[18])],S=!0)},p(r,v){if(v[0]&792){O=r[8];let _;for(_=0;_<O.length;_+=1){const D=Se(r,O,_);j[_]?(j[_].p(D,v),C(j[_],1)):(j[_]=Me(D),j[_].c(),C(j[_],1),j[_].m(o,d))}for(J(),_=O.length;_<j.length;_+=1)z(_);R()}if(v[0]&16&&h.value!==r[4]&&ke(h,r[4]),v[0]&4160){I=r[6];let _;for(_=0;_<I.length;_+=1){const D=ze(r,I,_);f[_]?(f[_].p(D,v),C(f[_],1)):(f[_]=Ee(D),f[_].c(),C(f[_],1),f[_].m(T,null))}for(J(),_=I.length;_<f.length;_+=1)w(_);R()}},i(r){if(!A){for(let v=0;v<O.length;v+=1)C(j[v]);for(let v=0;v<I.length;v+=1)C(f[v]);A=!0}},o(r){j=j.filter(Boolean);for(let v=0;v<j.length;v+=1)P(j[v]);f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)P(f[v]);A=!1},d(r){r&&M(t),r&&M(l),r&&M(n),ne(j,r),ne(f,r),S=!1,K(m)}}}function Me(e){let t,l,n,o,i,s;n=new ie({props:{emoji:e[9][e[39]]}});function d(){return e[15](e[39])}return{c(){t=b("div"),l=b("div"),Z(n.$$.fragment),k(l,"title",e[37]),k(t,"class","category svelte-7xzkmh"),G(t,"highlight",e[39]===e[3]&&!e[4])},m(c,u){N(c,t,u),p(t,l),X(n,l,null),o=!0,i||(s=B(t,"click",d),i=!0)},p(c,u){e=c,(!o||u[0]&24)&&G(t,"highlight",e[39]===e[3]&&!e[4])},i(c){o||(C(n.$$.fragment,c),o=!0)},o(c){P(n.$$.fragment,c),o=!1},d(c){c&&M(t),Q(n),i=!1,s()}}}function Ee(e){let t,l,n,o,i,s,d,c;n=new ie({props:{emoji:e[34]}});function u(){return e[19](e[34])}return{c(){t=b("div"),l=b("div"),Z(n.$$.fragment),i=L(),k(l,"class","emoji svelte-7xzkmh"),k(l,"title",o=e[34].desc),k(t,"class","emoji svelte-7xzkmh")},m(a,h){N(a,t,h),p(t,l),X(n,l,null),p(t,i),s=!0,d||(c=B(t,"click",u),d=!0)},p(a,h){e=a;const y={};h[0]&64&&(y.emoji=e[34]),n.$set(y),(!s||h[0]&64&&o!==(o=e[34].desc))&&k(l,"title",o)},i(a){s||(C(n.$$.fragment,a),s=!0)},o(a){P(n.$$.fragment,a),s=!1},d(a){a&&M(t),Q(n),d=!1,c()}}}function Oe(e){let t,l,n,o,i,s,d,c,u,a,h,y,E,$,T,A,S=Object.keys(e[10]),m=[];for(let f=0;f<S.length;f+=1)m[f]=Ne($e(e,S,f));const O=f=>P(m[f],1,1,()=>{m[f]=null});let j=e[5],z=[];for(let f=0;f<j.length;f+=1)z[f]=Le(we(e,j,f));const I=f=>P(z[f],1,1,()=>{z[f]=null});return{c(){t=b("div"),l=L(),n=b("div"),o=b("div"),i=b("div"),i.textContent="Customize",s=L(),d=b("div"),d.textContent="Save",c=L(),u=b("div");for(let f=0;f<m.length;f+=1)m[f].c();a=L(),h=b("div"),y=L(),E=b("div");for(let f=0;f<z.length;f+=1)z[f].c();k(t,"class","bg-click svelte-7xzkmh"),k(i,"class","svelte-7xzkmh"),k(d,"class","customize svelte-7xzkmh"),k(o,"class","categories svelte-7xzkmh"),k(u,"class","emojis svelte-7xzkmh"),k(h,"class","hr svelte-7xzkmh"),k(E,"class","emojis svelte-7xzkmh"),k(n,"class","picker svelte-7xzkmh")},m(f,w){N(f,t,w),N(f,l,w),N(f,n,w),p(n,o),p(o,i),p(o,s),p(o,d),p(n,c),p(n,u);for(let r=0;r<m.length;r+=1)m[r].m(u,null);p(n,a),p(n,h),p(n,y),p(n,E);for(let r=0;r<z.length;r+=1)z[r].m(E,null);$=!0,T||(A=[B(t,"click",e[20]),B(d,"click",e[21])],T=!0)},p(f,w){if(w[0]&3078){S=Object.keys(f[10]);let r;for(r=0;r<S.length;r+=1){const v=$e(f,S,r);m[r]?(m[r].p(v,w),C(m[r],1)):(m[r]=Ne(v),m[r].c(),C(m[r],1),m[r].m(u,null))}for(J(),r=S.length;r<m.length;r+=1)O(r);R()}if(w[0]&2086){j=f[5];let r;for(r=0;r<j.length;r+=1){const v=we(f,j,r);z[r]?(z[r].p(v,w),C(z[r],1)):(z[r]=Le(v),z[r].c(),C(z[r],1),z[r].m(E,null))}for(J(),r=j.length;r<z.length;r+=1)I(r);R()}},i(f){if(!$){for(let w=0;w<S.length;w+=1)C(m[w]);for(let w=0;w<j.length;w+=1)C(z[w]);$=!0}},o(f){m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)P(m[w]);z=z.filter(Boolean);for(let w=0;w<z.length;w+=1)P(z[w]);$=!1},d(f){f&&M(t),f&&M(l),f&&M(n),ne(m,f),ne(z,f),T=!1,K(A)}}}function Ne(e){let t,l,n,o,i,s;l=new ie({props:{emoji:e[11](e[31],e[1])}});function d(){return e[22](e[31])}return{c(){t=b("div"),Z(l.$$.fragment),n=L(),k(t,"class","emoji svelte-7xzkmh"),G(t,"highlight",e[2]===e[31])},m(c,u){N(c,t,u),X(l,t,null),p(t,n),o=!0,i||(s=B(t,"click",d),i=!0)},p(c,u){e=c;const a={};u[0]&2&&(a.emoji=e[11](e[31],e[1])),l.$set(a),(!o||u[0]&1028)&&G(t,"highlight",e[2]===e[31])},i(c){o||(C(l.$$.fragment,c),o=!0)},o(c){P(l.$$.fragment,c),o=!1},d(c){c&&M(t),Q(l),i=!1,s()}}}function Le(e){let t,l,n,o,i,s;l=new ie({props:{emoji:e[11](e[2],e[28])}});function d(){return e[23](e[28])}return{c(){t=b("div"),Z(l.$$.fragment),n=L(),k(t,"class","emoji svelte-7xzkmh"),G(t,"highlight",e[1]===e[28])},m(c,u){N(c,t,u),X(l,t,null),p(t,n),o=!0,i||(s=B(t,"click",d),i=!0)},p(c,u){e=c;const a={};u[0]&36&&(a.emoji=e[11](e[2],e[28])),l.$set(a),(!o||u[0]&34)&&G(t,"highlight",e[1]===e[28])},i(c){o||(C(l.$$.fragment,c),o=!0)},o(c){P(l.$$.fragment,c),o=!1},d(c){c&&M(t),Q(l),i=!1,s()}}}function Ue(e){let t,l,n,o=e[0]&&Ce(e),i=e[7]&&Oe(e);return{c(){o&&o.c(),t=L(),i&&i.c(),l=Pe()},m(s,d){o&&o.m(s,d),N(s,t,d),i&&i.m(s,d),N(s,l,d),n=!0},p(s,d){s[0]?o?(o.p(s,d),d[0]&1&&C(o,1)):(o=Ce(s),o.c(),C(o,1),o.m(t.parentNode,t)):o&&(J(),P(o,1,1,()=>{o=null}),R()),s[7]?i?(i.p(s,d),d[0]&128&&C(i,1)):(i=Oe(s),i.c(),C(i,1),i.m(l.parentNode,l)):i&&(J(),P(i,1,1,()=>{i=null}),R())},i(s){n||(C(o),C(i),n=!0)},o(s){P(o),P(i),n=!1},d(s){o&&o.d(s),s&&M(t),i&&i.d(s),s&&M(l)}}}function Ve(e,t,l){var he,_e;let{emojis:n,categories:o,catIcons:i,morphs:s}=Re(),d=(he=localStorage.emoji_color)!=null?he:localStorage.emoji_color="default",c=(_e=localStorage.emoji_morph)!=null?_e:localStorage.emoji_morph="paw",u,a=(g,q="default")=>n.find(H=>H.root==="hand"&&H.morph===g&&H.color===q)||n.find(H=>H.root==="hand"&&H.morph===g),h=0,y="",E=[],{open:$=!1}=t,T=!1,A=-1,S=null,{commentMode:m=!1}=t;document.addEventListener("keydown",g=>{if(g.ctrlKey&&g.key==="."&&$===!1){if(S=g.target,S.tagName!=="TEXTAREA")return;l(13,m=S.placeholder==="leave a comment..."),g.preventDefault(),l(0,$=!0),A=S.selectionStart,console.log("opened",{open:$})}});let O=async g=>{let q=g.desc.replace('"',"'"),H=m?`![${q}](https://lxhom.github.io/mutant-html/assets/webp_32/${g.short}.webp)`:`<img src="https://lxhom.github.io/mutant-html/assets/webp_128/${g.short}.webp" alt="${q}" title="${q}" style="width: 1em; height: 1em; margin: 0; display: inline;">`;window.running_as_page?(await navigator.clipboard.writeText(H),alert("Copied "+H+" to clipboard")):j(H),l(0,$=!1)},j=g=>{let q=S.value;S.value=q.slice(0,A)+g+q.slice(A),S.selectionStart=A+g.length,S.selectionEnd=A+g.length,S.dispatchEvent(new Event("input",{bubbles:!0}))};const z=()=>l(0,$=!1),I=g=>l(3,h=g),f=()=>{l(0,$=!1),l(7,T=!0)};function w(){y=this.value,l(4,y)}const r=()=>l(0,$=!1),v=g=>O(g),_=()=>{l(0,$=!0),l(7,T=!1)},D=()=>{l(0,$=!0),l(7,T=!1)},Ie=g=>l(2,c=g),He=g=>l(1,d=g);return e.$$set=g=>{"open"in g&&l(0,$=g.open),"commentMode"in g&&l(13,m=g.commentMode)},e.$$.update=()=>{e.$$.dirty[0]&2&&(localStorage.emoji_color=d),e.$$.dirty[0]&4&&(localStorage.emoji_morph=c),e.$$.dirty[0]&4&&l(5,u=s[c]),e.$$.dirty[0]&30&&l(6,E=n.filter(g=>!(o[h]!==g.cat&&!y||g.morph&&g.morph!==c||g.color&&g.color!==d||g.desc.indexOf(y)===-1&&g.short.indexOf(y)===-1)))},[$,d,c,h,y,u,E,T,o,i,s,a,O,m,z,I,f,w,r,v,_,D,Ie,He]}class We extends me{constructor(t){super(),de(this,t,Ve,Ue,ue,{open:0,commentMode:13},null,[-1,-1])}}function Ye(e){let t,l,n,o,i,s,d,c,u,a,h,y,E,$,T,A,S;return{c(){t=b("p"),t.textContent="Hi there! This is the page hosting Mutant Standard for Cohost. See the post on Cohost for more.",l=L(),n=b("p"),n.innerHTML='This uses the <a href="https://mutant.tech">Mutant Standard</a> emoji set.',o=L(),i=b("p"),s=V("The emoji picker is available as an "),d=b("a"),d.textContent="userscript",c=V(" or you can try it here:"),u=b("br"),a=b("button"),a.textContent="Open picker",h=b("br"),y=b("input"),E=L(),$=b("label"),$.innerHTML="Comment mode (<code>![...](...)</code> instead of <code>&lt;img&gt;</code> tags",T=V(")"),k(d,"href","mutant-compiled.user.js"),k(y,"id","comMode"),k(y,"type","checkbox"),k($,"for","comMode")},m(m,O){N(m,t,O),N(m,l,O),N(m,n,O),N(m,o,O),N(m,i,O),p(i,s),p(i,d),p(i,c),p(i,u),p(i,a),p(i,h),p(i,y),y.checked=e[1],p(i,E),p(i,$),p(i,T),A||(S=[B(a,"click",e[2]),B(y,"change",e[3])],A=!0)},p(m,O){O&2&&(y.checked=m[1])},d(m){m&&M(t),m&&M(l),m&&M(n),m&&M(o),m&&M(i),A=!1,K(S)}}}function Ze(e){let t,l,n,o,i,s=window.running_as_page&&Ye(e);function d(a){e[4](a)}function c(a){e[5](a)}let u={};return e[0]!==void 0&&(u.open=e[0]),e[1]!==void 0&&(u.commentMode=e[1]),l=new We({props:u}),oe.push(()=>je(l,"open",d)),oe.push(()=>je(l,"commentMode",c)),{c(){s&&s.c(),t=L(),Z(l.$$.fragment)},m(a,h){s&&s.m(a,h),N(a,t,h),X(l,a,h),i=!0},p(a,[h]){window.running_as_page&&s.p(a,h);const y={};!n&&h&1&&(n=!0,y.open=a[0],be(()=>n=!1)),!o&&h&2&&(o=!0,y.commentMode=a[1],be(()=>o=!1)),l.$set(y)},i(a){i||(C(l.$$.fragment,a),i=!0)},o(a){P(l.$$.fragment,a),i=!1},d(a){s&&s.d(a),a&&M(t),Q(l,a)}}}function xe(e,t,l){let n=!1,o=!1;const i=()=>l(0,n=!0);function s(){o=this.checked,l(1,o)}function d(u){n=u,l(0,n)}function c(u){o=u,l(1,o)}return[n,o,i,s,d,c]}class et extends me{constructor(t){super(),de(this,t,xe,Ze,ue,{})}}let tt=async()=>{if(console.log(!!localStorage.emoji_data),!localStorage.emoji_data)if(window.running_as_page){let t=await fetch("assets/data.json");localStorage.emoji_data=await t.text()}else{let t=await GM_fetch("https://lxhom.github.io/mutant-html/assets/data.json");localStorage.emoji_data=await t.text()}const e=new et({target:document.getElementById("userscript-app")});console.log("Svelte initialized on",e.$$.root)};tt().then();
